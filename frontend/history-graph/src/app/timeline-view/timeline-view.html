<div class="timeline-container">
	<svg [attr.width]="viewSize().width" [attr.height]="viewSize().height" xmlns="http://www.w3.org/2000/svg">
		<g tl-axis
			[startPos]="axisStartPos()"
			[endPos]="axisEndPos()"
			[startLabel]="startLabel()"
			[endLabel]="endLabel()"
			[textStyle]="textStyle()"
			[lineStyle]="lineStyle()"
		/>
		@if (timeline()?.events && tlEventPositions().length > 0) {
			@for (tlEvent of timeline()!.events; track tlEvent.when; let i = $index) {
				@if (tlEventPositions()[i]) {
					<g tl-event
						[tlEvent]="tlEvent"
						[dateFormat]="dateFormat()"
						[position]="tlEventPositions()[i]"
						[textStyle]="textStyle()"
						[lineStyle]="lineStyle()"
					/>
				}
			}
		}
	</svg>

	<!-- Global overlay component for timeline events -->
	<tl-event-overlay [dateFormat]="dateFormat()" />
</div>
